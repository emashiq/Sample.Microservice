version: '3.4'

services:

  apigateway:
    image: ${DOCKER_REGISTRY-}apigateway
    build:
      context: .
      dockerfile: ApiGateway/Dockerfile

  productservice:
    image: ${DOCKER_REGISTRY-}productservice
    build:
      context: .
      dockerfile: ProductService/Dockerfile


  orderservice:
    image: ${DOCKER_REGISTRY-}orderservice
    build:
      context: .
      dockerfile: OrderService/Dockerfile


  db:
    image: "mcr.microsoft.com/mssql/server"
    environment:
      SA_PASSWORD: "Emr@n_____"
      ACCEPT_EULA: "Y"
    ports:
       - "9000:1433"

